<form action="<%= feature.add_entity_path %>" method="post">
  <h3 class="text-xl font-bold mb-4">Search entities</h3>
  <div data-controller="search" data-search-url-value="/flipside/search_entity">
    <label for="entity-class">Entity class</label>
    <select
      name="class_name"
      id="entity-class"
      data-search-target="param"
      data-search-param="class_name"
      data-action="search#clearAll"
      class="w-full mt-2 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
      <% Flipside.entity_classes.each do |class_name| %>
        <option value="<%= class_name %>"><%= class_name %></option>
      <% end %>
    </select>

    <input
      type="text"
      autocomplete="off"
      list="entity-results"
      data-action="search#search"
      data-search-target="input"
      placeholder="Search..."
      class="w-full mt-2 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
    <input
      type="hidden"
      data-search-target="value"
      name="identifier"
      />
    <datalist
      id="entity-results"
      class="bg-slate-400 mt-2 rounded-md"
      data-search-target="results"
      data-action="click->search#select" />
  </div>
  <button
    type="submit"
    class="px-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400" >
    Add
  </button>
</form>
